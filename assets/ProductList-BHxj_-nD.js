import{u as p,a as b,r as x,j as e,b as f,L as N,c as v,y as j}from"./index-LL3Jl9nY.js";import{a as y}from"./config-JLIk_nY2.js";function P(c){const{data:t,onDelete:d}=c,o=p(n=>n.user.isAuthenticated),i=b(),[l,u]=x.useState(!1),m=()=>{o?(i(v(t)),j.success("Successfully added to cart! ðŸ›’",{position:"top-left"}),u(!0),setTimeout(()=>u(!1),1500)):j.info("Please login to add products to cart. ðŸ›ï¸",{position:"top-left"})},h=e.jsx("span",{children:Array.from({length:5},(n,r)=>r<Math.round(t.rating)?e.jsx("span",{style:{color:"#ffc107"},children:"â˜…"},r):e.jsx("span",{style:{color:"#e4e5e9"},children:"â˜†"},r))}),g=f();function s(n){g(`/product-details/${n}`)}const a=t.availabilityStatus==="In Stock"?"badge m-2 bg-success":"badge m-2 bg-secondary";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card h-100",children:[e.jsx("img",{src:t.thumbnail,className:"card-img-top m-auto",style:{width:"250px",height:"250px",objectFit:"cover"},alt:"..."}),e.jsxs("div",{className:"card-body",children:[e.jsxs("span",{className:a,children:[t.availabilityStatus," "]}),e.jsx(N,{to:`/product-details/${t.id}`,children:e.jsx("h5",{className:"card-title fw-bold",children:t.title})}),e.jsx("p",{className:"card-text",children:t.description}),e.jsx("div",{className:"d-flex gap-2 ",children:t.tags&&t.tags.map((n,r)=>e.jsx("span",{className:"badge bg-pink text-dark",children:n},r))})]}),e.jsxs("div",{className:"d-flex justify-content-between p-2",children:[e.jsx("span",{children:h}),e.jsxs("span",{className:"btn btn-outline-success fw-bold",children:[t.price," $"]})]}),e.jsxs("div",{className:"card-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>s(t.id),children:"View"}),e.jsx("button",{className:"btn btn-danger mx-2",onClick:()=>d(t.id),children:"Delete"})]}),e.jsx("button",{disabled:l,className:`btn ${l?"btn-success":"btn-outline-success"}`,onClick:m,children:l?"âœ”ï¸ Added!":"Add To Cart"})]})]})})}function w(){const[c,t]=x.useState([]),[d,o]=x.useState(1);if(x.useEffect(()=>{y.get("/products",{params:{limit:50},headers:{Authorization:"ACCESS_TOKEN"}}).then(s=>t(s.data.products)).catch(s=>console.log(s))},[]),c.length===0)return e.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:e.jsx("div",{id:"loaderParent",children:e.jsxs("div",{className:"loader",children:[e.jsx("div",{className:"inner one"}),e.jsx("div",{className:"inner two"}),e.jsx("div",{className:"inner three"})]})})});const i=12,l=d*i,u=l-i,m=c.slice(u,l),h=Math.ceil(c.length/i),g=s=>{console.log(s);const a=c.filter(n=>n.id!==s);t(a)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-center m-4 gap-2",children:Array.from({length:h},(s,a)=>e.jsx("button",{className:` btn ${d===a+1?"btn-light":"btn-outline-light"} mx-1`,onClick:()=>o(a+1),children:a+1},a))}),e.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:m.map(s=>e.jsx("div",{className:"col",children:e.jsx(P,{data:s,onDelete:g})},s.id))}),e.jsx("div",{className:"d-flex justify-content-center mt-4 gap-2",children:Array.from({length:h},(s,a)=>e.jsx("button",{className:`btn ${d===a+1?"btn-light":"btn-outline-light"} mx-1`,onClick:()=>o(a+1),children:a+1},a))})]})}export{w as default};
