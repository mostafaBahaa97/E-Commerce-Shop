import{u as y,r as n,a as k,d as S,j as s,c as C,y as x}from"./index-DClIIMqx.js";import{a as A}from"./config-JLIk_nY2.js";function P(){const u=y(t=>t.user.isAuthenticated),[i,d]=n.useState(!1),p=k(),f=()=>{u?(p(C(e)),x.success("Successfully added to cart! üõí",{position:"top-left"}),d(!0),setTimeout(()=>d(!1),1500)):x.info("Please login to add products to cart. üõçÔ∏è",{position:"top-left"})},[j,o]=n.useState(1),r=S(),[e,b]=n.useState(null);n.useEffect(()=>{A.get(`/products/${r.id}`).then(t=>b(t.data)).catch(t=>console.log(t))},[r.id]);const[m,h]=n.useState(null);n.useEffect(()=>{e&&e.thumbnail&&h(e.thumbnail)},[e]);const[l,g]=n.useState(!1);if(!e)return s.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:s.jsx("div",{id:"loaderParent",children:s.jsxs("div",{className:"loader",children:[s.jsx("div",{className:"inner one"}),s.jsx("div",{className:"inner two"}),s.jsx("div",{className:"inner three"})]})})});console.log(e);const w=s.jsx("span",{children:Array.from({length:5},(t,a)=>a<Math.round(e.rating)?s.jsx("span",{style:{color:"#ffc107"},children:"‚òÖ"},a):s.jsx("span",{style:{color:"#e4e5e9"},children:"‚òÜ"},a))});e.stock;const c=e.stock,N=()=>{o(t=>t<c?t+1:c)},v=()=>{o(t=>t>1?t-1:1)};return s.jsx("div",{className:"bg-white p-5 rounded-4 border border-2",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-12 col-md-4",children:[s.jsx("img",{src:m,alt:e.title,className:"w-100"}),s.jsx("div",{className:"d-flex g-4",children:e.images&&e.images.map((t,a)=>s.jsx("img",{src:t,alt:`Thumbnail ${a+1}`,className:"w-25",style:{cursor:"pointer",border:m===t?"2px solid #007bff":"none"},onClick:()=>h(t)},a))})]}),s.jsxs("div",{className:"col-12 col-md-8",children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[s.jsx("h2",{className:"py-4 fw-bold mb-0",children:e.title}),s.jsx("span",{style:{cursor:"pointer",fontSize:"2rem",color:l?"gold":"gray",transition:"color 0.2s"},onClick:()=>g(t=>!t),title:l?"Remove from wishlist":"Add to wishlist",children:l?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"gold",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",stroke:"gray",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})]}),s.jsx("p",{className:"text-muted fs-5",children:e.description}),s.jsx("div",{children:s.jsxs("span",{className:"fs-5 fw-bold",children:["$",e.price]})}),s.jsx("p",{children:w}),s.jsx("p",{className:e.availabilityStatus==="In Stock"?"btn p-1 fw-bold btn-success":e.availabilityStatus==="Low Stock"?"btn p-1 fw-bold btn-warning":"btn p-1 fw-bold btn-danger",children:e.availabilityStatus}),s.jsx("div",{className:"d-flex gap-2 my-3",children:e.tags&&e.tags.map((t,a)=>s.jsx("span",{className:"badge bg-pink text-dark",children:t},a))}),s.jsxs("div",{className:"d-flex gap-4 align-items-center",children:[s.jsx("span",{className:"btn btn-outline-secondary fw-bolder ",onClick:N,children:"+"}),s.jsx("span",{className:"fs-4 fw-bolder ",children:j}),s.jsx("span",{className:"btn btn-outline-secondary fw-bolder ",onClick:v,children:"-"}),s.jsx("div",{className:"d-flex flex-column",children:e.availabilityStatus==="Low Stock"&&s.jsxs("span",{children:["Only ",s.jsxs("span",{className:"text-danger fw-bold",children:[c," pieces"]})," left"]})})]}),s.jsxs("div",{className:"d-flex justify-content-center gap-4",children:[s.jsx("button",{className:"btn btn-success mt-5 fw-bolder px-md-5 py-md-2 rounded-4",children:"Buy Now"}),s.jsx("button",{className:`btn ${i?"btn-success":"btn-outline-success"} mt-5 fw-bolder px-md-5 py-md-2 rounded-4`,onClick:f,children:i?"‚úîÔ∏è Added!":"Add To Cart"})]})]})]})})}export{P as default};
