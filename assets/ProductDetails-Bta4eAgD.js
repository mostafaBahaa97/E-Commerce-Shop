import{u as k,r as a,a as C,d as S,j as s,c as A,y as p}from"./index-UWfU5ggb.js";import{a as I}from"./config-JLIk_nY2.js";function D(){const f=k(e=>e.user.isAuthenticated),[d,i]=a.useState(!1),j=C(),g=()=>{f?(j(A(t)),p.success("Successfully added to cart! üõí",{position:"top-left"}),i(!0),setTimeout(()=>i(!1),1500)):p.info("Please login to add products to cart. üõçÔ∏è",{position:"top-left"})},[o,r]=a.useState(1),m=S(),[t,b]=a.useState(null);a.useEffect(()=>{I.get(`/products/${m.id}`).then(e=>b(e.data)).catch(e=>console.log(e))},[m.id]);const[h,x]=a.useState(null);a.useEffect(()=>{t&&t.thumbnail&&x(t.thumbnail)},[t]);const[l,w]=a.useState(!1);if(!t)return s.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:s.jsx("div",{id:"loaderParent",children:s.jsxs("div",{className:"loader",children:[s.jsx("div",{className:"inner one"}),s.jsx("div",{className:"inner two"}),s.jsx("div",{className:"inner three"})]})})});const N=s.jsx("span",{children:Array.from({length:5},(e,n)=>n<Math.round(t.rating)?s.jsx("span",{style:{color:"#ffc107"},children:"‚òÖ"},n):s.jsx("span",{style:{color:"#e4e5e9"},children:"‚òÜ"},n))}),u=t.stock===0?"Out of Stock":"In Stock",c=t.stock,v=()=>{r(e=>e<c?e+1:c)},y=()=>{r(e=>e>1?e-1:1)};return s.jsx("div",{className:"bg-white p-5 rounded-4 border border-2",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-12 col-md-4",children:[s.jsx("img",{src:h,alt:t.title,className:"w-100"}),s.jsx("div",{className:"d-flex g-4",children:t.images&&t.images.map((e,n)=>s.jsx("img",{src:e,alt:`Thumbnail ${n+1}`,className:"w-25",style:{cursor:"pointer",border:h===e?"2px solid #007bff":"none"},onClick:()=>x(e)},n))})]}),s.jsxs("div",{className:"col-12 col-md-8",children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[s.jsx("h2",{className:"py-4 fw-bold mb-0",children:t.title}),s.jsx("span",{style:{cursor:"pointer",fontSize:"2rem",color:l?"gold":"gray",transition:"color 0.2s"},onClick:()=>w(e=>!e),title:l?"Remove from wishlist":"Add to wishlist",children:l?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"gold",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",stroke:"gray",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})]}),s.jsx("p",{className:"text-muted fs-5",children:t.description}),s.jsx("div",{children:s.jsxs("span",{className:"fs-5 fw-bold",children:["$",t.price]})}),s.jsx("p",{children:N}),s.jsx("p",{className:u==="In Stock"?"btn p-1 fw-bold btn-success":"btn p-1 fw-bold btn-danger",children:u}),s.jsx("div",{className:"d-flex gap-2 my-3",children:t.tags&&t.tags.map((e,n)=>s.jsx("span",{className:"badge bg-pink text-dark",children:e},n))}),s.jsxs("div",{className:"d-flex gap-4",children:[s.jsx("span",{className:"btn btn-outline-secondary fw-bolder",onClick:v,children:"+"}),s.jsx("span",{className:"fs-4 fw-bolder",children:o}),s.jsx("span",{className:"btn btn-outline-secondary fw-bolder",onClick:y,children:"-"}),s.jsxs("div",{className:"d-flex flex-column",children:[s.jsxs("span",{children:["Only ",s.jsxs("span",{className:"text-danger fw-bold",children:[c-o," pieces"]})," left"]}),s.jsx("span",{className:"fw-bold",children:"Don't miss it"})]})]}),s.jsxs("div",{className:"d-flex justify-content-center gap-4",children:[s.jsx("button",{className:"btn btn-success mt-5 fw-bolder px-5 py-2 rounded-4",children:"Buy Now"}),s.jsx("button",{className:`btn ${d?"btn-success":"btn-outline-success"} mt-5 fw-bolder px-5 py-2 rounded-4`,onClick:g,children:d?"‚úîÔ∏è Added!":"Add To Cart"})]})]})]})})}export{D as default};
